---
local_route: 127.0.0.1
port: 8181
pid_filename: /tmp/cloud_controller.pid
message_bus_uri: nats://127.0.0.1:4222
nats_uri: nats://127.0.0.1:4222

external_domain: api.vcap.me

bootstrap_admin_email: stackato@stackato.com

# Not creating default org-- done by first user setup (disabled in 67a488b98c)
#system_domain_organization: my-org-name

system_domain: vcap.me
app_domains:
  - vcap.me

info:
  name: "stackato"
  build: "2222"
  version: 2
  support_address: "stackato-support@activestate.com"
  description: "ActiveState Stackato"
  api_version: "2.0.0"
# TODO: put back once json schema is sorted out
# allow_debug: false

nginx:
  use_nginx: true
  instance_socket: "/var/stackato/sys/run/cloud_controller_ng/cloud_controller.sock"

logging:
  level: debug

loggregator:
  router: "127.0.0.1:3456"

db:
  database:
    host: localhost
    port: 5432
    user: postgres
    password: root
    adapter: postgres
    database: cloudcontroller
  max_connections: 32
  pool_timeout: 10

active_record_db:
  database: "sqlite:///home/stackato/stackato/db/cloud_controller_ar.db"
  max_connections: 32
  pool_timeout: 10

uaa:
  url: "http://localhost:8080/uaa"
  resource_id: "cloud_controller"
  symmetric_secret: "tokensecret"

cc_partition: ng

max_time_in_cache: 5d

bulk_api:
  auth_user: bulk_user
  auth_password: bulk_password

# App staging parameters
staging:
  # Max duration for staging process
  max_staging_runtime: 480 # secs
  auth:
    user: placeholder
    password: placeholder

quota_definitions:
  free:
    non_basic_services_allowed: false
    total_services: 100
    memory_limit: 2048 # 2 GB
    allow_sudo: false
  paid:
    non_basic_services_allowed: true
    total_services: 500
    memory_limit: 204800 # 200 GB
    allow_sudo: false
  trial:
    non_basic_services_allowed: false
    total_services: 2
    memory_limit: 512 # 0.5 GB
    trial_db_allowed: true
    allow_sudo: false

default_quota_definition: free

resource_pool:
  resource_directory_key: "cc-resources"
  fog_connection:
    provider: Local
    local_root: /home/stackato/stackato/data/

packages:
  app_package_directory_key: "cc-packages"
  fog_connection:
    provider: Local
    local_root: /home/stackato/stackato/data/

droplets:
  droplet_directory_key: cc-droplets
  fog_connection:
    provider: Local
    local_root: /home/stackato/stackato/data/

buildpacks:
  buildpack_directory_key: cc-buildpacks
  fog_connection:
    provider: Local
    local_root: /home/stackato/stackato/data/

db_encryption_key: "placeholder"

trial_db:
  guid: "78ad16cf-3c22-4427-a982-b9d35d746914"

tasks_disabled: false

app_logs_redis:
  host: 127.0.0.1
  port: 6464

# App stores
app_store:
  default_icon: http://get.stackato.com/store/icon/default.png
  stores:
    activestate-apps:
      content_url: http://get.stackato.com/store/3.0/activestate-apps.yaml
      enabled: true
    drupal-distro:
      content_url: http://get.stackato.com/store/3.0/drupal-distro.yaml
      enabled: true
    third-party-apps:
      content_url: http://get.stackato.com/store/3.0/third-party-apps.yaml
      enabled: true

allowed_repos:
  - "deb mirror://mirrors.ubuntu.com/mirrors.txt precise main restricted universe multiverse"
  - "deb mirror://mirrors.ubuntu.com/mirrors.txt precise-updates main restricted universe multiverse"
  - "deb http://security.ubuntu.com/ubuntu precise-security main universe"

app_uris:
  # Allow applications to register URIs that are outside your domain.
  allow_external: true
  reserved_list: [www, api, login, ports]
  reserved_length: 2
#  reserved_file:

maintenance_mode: false

# Maximum number of drains for any app.
max_drains_per_app: 2

auto_scaling:
  enabled: false
  config_file: /s/etc/autoscaling.yaml

